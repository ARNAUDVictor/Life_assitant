{% macro task_card(task) %}
<div class="task {% if task.completed %}completed{% endif %}">
    <div class="task-info">
        <span class="task-title">{{ task.title }}</span>
        <div class="task-meta">
            <small class="task-date">CrÃ©Ã©e le : {{ task.created_at.strftime('%d/%m/%Y Ã  %H:%M') }}</small>
           {% if task.due_date %}
                <small class="task-due {% if task.is_overdue() %}overdue{% endif %}">
                    ğŸ“… Ã‰chÃ©ance : {{ task.due_date.strftime('%d/%m/%Y Ã  %H:%M') }}
                        {% if task.is_overdue() %}<span class="overdue-badge">En retard !</span>{% endif %}
                </small>
            {% endif %}
            {% if task.category %}
                <span class="task-category" style="background-color: {{ task.category.color }}">{{ task.category.name }}</span>
            {% endif %}
        </div>
    </div>
    <div class="task-actions">
        {% if task.completed %}
            <a href="{{ url_for('tasks.mark_task_complete', task_id=task.id) }}" class="btn-toggle" title="Marquer comme non terminÃ©e">â†º</a>
        {% else %}
            <a href="{{ url_for('tasks.mark_task_complete', task_id=task.id) }}" class="btn-toggle" title="Marquer comme terminÃ©e">âœ“</a>
        {% endif %}
        <a href="{{ url_for('tasks.delete_task', task_id=task.id) }}" class="btn-delete" title="Supprimer">âœ•</a>
    </div>
</div>
{% endmacro %}